<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="description" content="EachPart - Motivation, Anerkennung, Fairness leben und Erinnerungen bewahren" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>EachPart - Startseite</title>

  <!-- Externes Stylesheet (deins) -->
  <link rel="stylesheet" href="styles.css" />

  <!-- Zusatz-Styles (Buttons, Grid, Video) -->
  <style>
    /* Download-Buttons als flexible Reihe */
    .btn-group {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
      justify-content: center;
      margin-top: 1rem;
    }
    .btn-group .btn-primary {
      flex: 1 1 150px;
      padding: 0.75rem 1rem;
      font-size: 0.95rem;
      text-align: center;
    }
    @media (max-width: 480px) {
      .btn-group {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 0.75rem;
      }
      .btn-group .btn-primary {
        flex: none;
        width: 100%;
        min-width: 0;
        margin: 0;
      }
    }

    /* Grid für Features */
    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 1.5rem;
      margin-top: 1.5rem;
    }
    .feature-box {
      background: #fff;
      border-radius: 8px;
      padding: 1rem;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      text-align: center;
    }
    .feature-box h3 { margin-bottom: 0.5rem; font-size: 1.25rem; }
    .feature-box p  { font-size: 1rem; line-height: 1.4; }

    /* Hero-Video oben */
    .hero-video-wrap{
      max-width: 980px;
      margin: 0 auto 1.25rem auto;
      position: relative;
      aspect-ratio: 16 / 9;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 6px 24px rgba(0,0,0,0.15);
    }
    .hero-video{
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
      background: #000;
    }
    .video-lang-toggle{
      position: absolute;
      top: 10px;
      right: 10px;
      display: flex;
      gap: 6px;
      z-index: 2;
    }
    .video-lang-toggle button{
      border: 0;
      padding: 6px 10px;
      border-radius: 999px;
      background: rgba(255,255,255,0.85);
      backdrop-filter: blur(6px);
      cursor: pointer;
      font-weight: 600;
    }
    .video-lang-toggle button.active{
      background: #111;
      color: #fff;
    }
    @media (max-width: 640px){
      .hero-video-wrap{ border-radius: 8px; }
    }
  </style>

  <!-- Deine Übersetzungslogik (falls vorhanden) -->
  <script src="translate.js"></script>
</head>
<body>
  <!-- Navigation -->
  <nav class="navbar">
    <div class="nav-container">
      <a class="nav-logo" href="index.html">EachPart</a>
      <ul class="nav-menu">
        <li><a href="index.html"       id="nav-home">Home</a></li>
        <li><a href="faq.html"         id="nav-faq">FAQ</a></li>
        <li><a href="impressum.html"   id="nav-contact">Kontakt</a></li>
      </ul>
    </div>
  </nav>

  <!-- Hero mit Intro-Video -->
  <header class="hero">
    <div class="hero-video-wrap">
      <video
        id="introVideo"
        class="hero-video"
        playsinline
        muted
        autoplay
        loop
        preload="metadata"
        controls
        poster="assets/videos/poster.jpg"  <!-- optional: Vorschaubild -->
      >
        <!-- Quellen werden per JS gesetzt -->
        Ihr Browser unterstützt das Video-Tag nicht.
      </video>

      <!-- Sprache umschalten -->
      <div class="video-lang-toggle" aria-label="Video-Sprache">
        <button type="button" data-lang="de" class="active">DE</button>
        <button type="button" data-lang="en">EN</button>
      </div>
    </div>

    <!-- Hero-Text + Buttons -->
    <div class="hero-content">
      <h1 id="hero-title">EachPart</h1>
      <p id="hero-description">Steigere deine Motivation, finde Anerkennung, lebe Fairness und bewahre Erinnerungen.</p>
      <div class="btn-group">
        <a href="https://play.google.com/store/apps/details?id=com.eachpart.eachpart"
           class="btn-primary" id="hero-android">Für Android herunterladen</a>
        <a href="https://testflight.apple.com/join/aRwmwwBd"
           class="btn-primary" id="hero-ios">Für iOS herunterladen</a>
      </div>
    </div>
  </header>

  <!-- About / Über EachPart -->
  <section class="section">
    <div class="container">
      <h2 id="about-title">Über EachPart</h2>
      <p id="about-text1">
        EachPart ist deine App, um gemeinsame Erfolge fair darzustellen, das Engagement jedes Teammitglieds sichtbar zu machen, wertvolle Erinnerungen zu bewahren – und dich zu motivieren: Wer kennt nicht die nie endenden Wäscheberge, den schmutzigen Geschirrstapel oder das Chaos im Zimmer?
      </p>
      <p id="about-text2">
        Egal ob du ein Event organisierst, ein gemeinsames Projekt durchführst oder sportliche Herausforderungen bewältigst – EachPart unterstützt dich dabei, Leistungen aufzuschlüsseln und Gerechtigkeit herzustellen.
      </p>
    </div>
  </section>

  <!-- Highlights / Features -->
  <section class="section bg-light">
    <div class="container">
      <h2 id="features-title">Unsere Highlights</h2>
      <div class="features-grid">
        <div class="feature-box">
          <h3 id="feature1-title">Anerkennung</h3>
          <p id="feature1-text">
            Sorge dafür, dass kein Einsatz übersehen wird und jeder seine verdiente Wertschätzung erhält.
          </p>
        </div>
        <div class="feature-box">
          <h3 id="feature2-title">Fairness</h3>
          <p id="feature2-text">
            Behalte stets den Überblick, wer wie viel beigetragen hat, damit Erfolge transparent und gerecht aufgeteilt werden können.
          </p>
        </div>
        <div class="feature-box">
          <h3 id="feature3-title">Erinnerungen</h3>
          <p id="feature3-text">
            Bewahre gemeinsam erzielte Meilensteine und schöne Erlebnisse.
          </p>
        </div>
        <div class="feature-box">
          <h3 id="feature4-title">Motivation</h3>
          <p id="feature4-text">
            Stärke euren Teamgeist durch spielerisches Kräftemessen: Setzt euch gemeinsame Ziele, verfolgt eure Fortschritte in Echtzeit und feuert euch gegenseitig an, um immer das nächste Level zu erreichen.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Kontakt -->
  <section class="section" id="contact">
    <div class="container">
      <h2 id="contact-title">Kontakt</h2>
      <p id="contact-text">Du hast Fragen oder möchtest Feedback geben? Wir freuen uns darauf, von dir zu hören.</p>
      <a href="mailto:support@eachpart.com"
         class="btn-secondary"
         id="contact-button">E-Mail an Support</a>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container footer-container">
      <p id="footer-text">&copy; 2025 EachPart. Alle Rechte vorbehalten.</p>
      <nav class="footer-nav">
        <a href="impressum.html"  id="footer-impressum">Impressum</a> |
        <a href="datenschutz.html" id="footer-datenschutz">Datenschutz</a>
      </nav>
    </div>
  </footer>

  <!-- Video-Logik: Quellen je Sprache setzen -->
  <script>
  (function () {
    const video = document.getElementById('introVideo');
    if (!video) return;

    // Aktuell dieselbe Datei für DE & EN – später EN-Variante ergänzen
    const sources = {
      de: [{ src: 'assets/videos/eachpart_intro.mp4', type: 'video/mp4' }],
      en: [{ src: 'assets/videos/eachpart_intro.mp4', type: 'video/mp4' }]
      // Beispiel später:
      // en: [{ src: 'assets/videos/eachpart_intro_en.mp4', type: 'video/mp4' }]
    };

    const buttons = document.querySelectorAll('.video-lang-toggle [data-lang]');
    const normalize = (lang) => (String(lang || '').toLowerCase().startsWith('de') ? 'de' : 'en');
    const wantsAutoplay = () =>
      !(navigator.connection && navigator.connection.saveData) &&
      !(window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches);

    function setVideoLang(lang, userInitiated = false) {
      lang = normalize(lang);
      video.innerHTML = '';
      (sources[lang] || sources.de).forEach(({ src, type }) => {
        const s = document.createElement('source');
        s.src = src;
        s.type = type;
        video.appendChild(s);
      });
      localStorage.setItem('videoLang', lang);
      buttons.forEach(b => b.classList.toggle('active', b.dataset.lang === lang));

      video.load();
      if (userInitiated || wantsAutoplay()) {
        video.play().catch(() => { /* Autoplay kann geblockt sein – ignorieren */ });
      }
    }

    // Umschalter
    buttons.forEach(b => b.addEventListener('click', () => setVideoLang(b.dataset.lang, true)));

    // Initiale Sprachwahl: URL > gespeicherte Wahl > <html lang> > Browser
    const urlLang = new URLSearchParams(location.search).get('lang');
    const stored  = localStorage.getItem('videoLang');
    const docLang = document.documentElement.lang;
    const navLang = navigator.language || 'de';
    setVideoLang(urlLang || stored || docLang || navLang);
  })();
  </script>
</body>
</html>
