<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="description" content="EachPart â€“ Mach aus heute etwas, das bleibt. Momente festhalten. Ziele schaffen. Gemeinsam dranbleiben." />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>EachPart â€“ Momente, Ziele & Spielwelt</title>

  <link rel="stylesheet" href="styles.css" />
  <script src="translate.js" defer></script>
</head>

<body>
  <!-- Navigation -->
  <nav class="navbar">
    <div class="container nav-container">
      <a class="nav-logo" href="index.html" aria-label="EachPart Startseite">EachPart</a>

      <ul class="nav-menu">
        <li><a href="index.html" id="nav-home" class="active">Home</a></li>
        <li><a href="#how" id="nav-how">So funktioniertâ€™s</a></li>
        <li><a href="#features" id="nav-features">Highlights</a></li>
        <li><a href="#world" id="nav-world">Spielwelt</a></li>
        <li><a href="#faq" id="nav-faq">FAQ</a></li>
        <li><a href="#contact" id="nav-contact">Kontakt</a></li>
      </ul>
    </div>
  </nav>

  <!-- Hero -->
  <header class="hero">
    <div class="container hero-split">

      <!-- LINKS: Video (OHNE Intro-Effekt!) -->
      <div class="video-card">
        <div class="video-frame" id="heroFrame">
          <video
            id="heroVideo"
            class="hero-video"
            playsinline
            autoplay
            loop
            preload="metadata"
            controls
            muted
            title="EachPart Intro"
          >
            <source src="assets/videos/eachpart_intro.mp4" type="video/mp4" />
            Dein Browser unterstÃ¼tzt das Video-Tag nicht.
          </video>

          <!-- Autoplay mit Sound wird vom Browser geblockt -> Click nÃ¶tig -->
          <button id="soundOverlay" class="sound-overlay" type="button">
            ðŸ”Š Mit Sound starten
          </button>
        </div>

        <div class="video-caption">
          Tipp: Ein Klick auf â€žMit Sound startenâ€œ aktiviert den Ton.
        </div>
      </div>

      <!-- RECHTS: Textfeld + Effekt NUR HIER -->
      <div class="hero-content hero-panel" id="heroPanel">

        <!-- Panel Intro Overlay (Scherben + Linse + Foto) -->
        <div class="panel-intro is-waiting" id="panelIntro" aria-hidden="true">
          <div class="panel-shard-stage" id="panelShardStage" aria-hidden="true"></div>

          <div class="lens" id="panelLens" aria-hidden="true">
            <div class="lens-core"></div>
            <div class="lens-glint"></div>
          </div>

          <div class="focus-frame" aria-hidden="true">
            <span class="fc tl"></span>
            <span class="fc tr"></span>
            <span class="fc bl"></span>
            <span class="fc br"></span>
          </div>

          <div class="camera-ui" aria-hidden="true">
            <div class="camera-dot"></div>
            <div class="camera-text">capturingâ€¦</div>
          </div>

          <div class="shutter" id="panelShutter" aria-hidden="true"></div>
          <div class="flash" id="panelFlash" aria-hidden="true"></div>
        </div>

        <!-- Der eigentliche Text-Content -->
        <div class="panel-content" id="panelContent">
          <div class="hero-badge">Nicht perfekt. Nur echt.</div>

          <h1 class="hero-title">Mach aus heute etwas, das bleibt.</h1>

          <p class="hero-tagline">Momente festhalten. Ziele schaffen. Gemeinsam dranbleiben.</p>

          <ul class="hero-bullets">
            <li>Einfach festhalten, was wirklich zÃ¤hlt â€“ ohne Perfektionsdruck.</li>
            <li>Mini-Ziele, die machbar sind â€“ und sich gut anfÃ¼hlen, wenn sie geschafft sind.</li>
            <li>Gemeinsam leichter: Reaktionen, Support und kleine Feiern.</li>
          </ul>

          <div class="btn-group btn-group-wrap">
            <a
              href="https://play.google.com/store/apps/details?id=com.eachpart.eachpart"
              class="btn-primary"
              target="_blank"
              rel="noopener"
            >Android herunterladen</a>

            <a
              href="https://testflight.apple.com/join/aRwmwwBd"
              class="btn-secondary"
              target="_blank"
              rel="noopener"
            >iOS (TestFlight)</a>

            <a href="anleitung.html" class="btn-ghost">Video-Anleitung</a>
            <a href="#how" class="btn-ghost">Mehr erfahren</a>
          </div>

          <p class="hero-note">
            Hinweis: Wir entwickeln aktiv weiter â€“ transparent und Schritt fÃ¼r Schritt.
          </p>
        </div>
      </div>

    </div>
  </header>

  <!-- About -->
  <section class="section" id="about">
    <div class="container">
      <div class="split-2">
        <div>
          <h2>Warum EachPart?</h2>
          <p>Im Alltag gehen die guten Dinge oft leise unter: kleine Momente, kleine Fortschritte, kleine Siege.</p>
          <p>EachPart gibt ihnen einen Platz â€“ damit du dich erinnerst, was war, und ihr gemeinsam dranbleibt.</p>
        </div>

        <div class="card soft">
          <h3>Kurz erklÃ¤rt</h3>
          <p class="big">
            Mini-Tagebuch + Motivation mit Freunden â€“ belohnt durch eine Spielwelt, die euren Fortschritt sichtbar macht.
          </p>

          <div class="mini-tags">
            <span class="tag">Momente</span>
            <span class="tag">Tagebuch</span>
            <span class="tag">Ziele</span>
            <span class="tag">Support</span>
            <span class="tag">Spielwelt</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- How -->
  <section class="section bg-light" id="how">
    <div class="container">
      <h2>So funktioniertâ€™s</h2>

      <div class="steps-grid">
        <div class="step-card">
          <div class="step-num">1</div>
          <h3>Moment festhalten</h3>
          <p>Ã–ffnen, aufnehmen, speichern. Ein Satz reicht.</p>
          <p class="step-mini">1 Moment â†’ 1 Satz â†’ gespeichert</p>
        </div>

        <div class="step-card">
          <div class="step-num">2</div>
          <h3>Mini-Ziele setzen</h3>
          <p>Kleine Ziele, die du wirklich schaffst â€“ mit Reactions und Support.</p>
          <p class="step-mini">Ziele â†’ Support â†’ Erfolg</p>
        </div>

        <div class="step-card">
          <div class="step-num">3</div>
          <h3>Spielwelt als Belohnung</h3>
          <p>Fortschritt wird sichtbar â€“ als gemeinsames Wachstum in eurer Welt.</p>
          <p class="step-mini">Dein Leben. Eure Welt.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Features -->
  <section class="section" id="features">
    <div class="container">
      <h2>Highlights</h2>

      <div class="features-grid">
        <div class="feature-box">
          <h3>Spontane Momente</h3>
          <p>Schnell festhalten statt spÃ¤ter bereuen â€“ ohne Perfektionismus.</p>
        </div>
        <div class="feature-box">
          <h3>Mini-Tagebuch</h3>
          <p>Ein Satz reicht â€“ damit du spÃ¤ter wieder da bist, wo es passiert ist.</p>
        </div>
        <div class="feature-box">
          <h3>Ziele & Motivation</h3>
          <p>Machbare Mini-Ziele. Support statt Druck.</p>
        </div>
        <div class="feature-box">
          <h3>Gemeinsam leichter</h3>
          <p>Reactions, Kommentare, Feiern â€“ zusammen dranbleiben macht den Unterschied.</p>
        </div>
        <div class="feature-box">
          <h3>Spielwelt-Fortschritt</h3>
          <p>Dein Fortschritt wird sichtbar â€“ und fÃ¼hlt sich wie Belohnung an.</p>
        </div>
        <div class="feature-box">
          <h3>Aktive Entwicklung</h3>
          <p>Performance, StabilitÃ¤t und neue Inhalte kommen Schritt fÃ¼r Schritt.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- World -->
  <section class="section bg-light" id="world">
    <div class="container">
      <div class="split-2">
        <div>
          <h2>Die Spielwelt zeigt euren Fortschritt</h2>
          <p>Nicht als Zwang â€“ sondern als sichtbare Belohnung. Ihr baut, erkundet und wachst gemeinsam.</p>

          <ul class="checklist">
            <li>Gemeinsam bauen & erkunden</li>
            <li>Fortschritt wird sichtbar</li>
            <li>Neue Inhalte Ã¼ber Updates</li>
          </ul>
        </div>

        <div class="card media">
          <img
            src="assets/images/world_teaser.jpg"
            alt="EachPart Spielwelt Teaser"
            loading="lazy"
            onerror="this.style.display='none';"
          />
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ -->
  <section class="section" id="faq">
    <div class="container">
      <h2>FAQ</h2>

      <div class="faq">
        <details class="faq-item">
          <summary>Ist EachPart privat?</summary>
          <p>Ja. Du kannst private Gruppen nutzen (Freunde/Familie). Ã–ffentliche Bereiche sind optional.</p>
        </details>

        <details class="faq-item">
          <summary>Muss ich tÃ¤glich aktiv sein?</summary>
          <p>Nein. EachPart soll unterstÃ¼tzen â€“ auch wenn du nur ab und zu Momente speicherst oder Ziele markierst.</p>
        </details>

        <details class="faq-item">
          <summary>Brauche ich viele Freunde?</summary>
          <p>Schon 1â€“2 Personen reichen, um Support und Motivation zu spÃ¼ren.</p>
        </details>

        <details class="faq-item">
          <summary>Was bringt die Spielwelt?</summary>
          <p>Weil Fortschritt nicht nur â€žabgehaktâ€œ ist, sondern sichtbar wird â€“ als gemeinsames Erlebnis.</p>
        </details>
      </div>
    </div>
  </section>

  <!-- Kontakt -->
  <section class="section" id="contact">
    <div class="container">
      <h2>Kontakt</h2>
      <p>Du hast Fragen oder mÃ¶chtest Feedback geben? Schreib uns gern.</p>

      <div class="btn-group btn-group-wrap">
        <a href="mailto:support@eachpart.com" class="btn-secondary">E-Mail an Support</a>
        <a href="anleitung.html" class="btn-ghost">Video-Anleitung</a>
      </div>

      <p class="muted small">
        Tipp: Wenn du Feedback zur Spielwelt oder Motivation-Features hast, schick gern Screenshots mit.
      </p>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container footer-container">
      <p>&copy; 2026 EachPart. Alle Rechte vorbehalten.</p>
      <nav class="footer-nav">
        <a href="impressum.html">Impressum</a> |
        <a href="datenschutz.html">Datenschutz</a>
      </nav>
    </div>
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // ======================
      // VIDEO SOUND BUTTON
      // ======================
      const video = document.getElementById('heroVideo');
      const soundBtn = document.getElementById('soundOverlay');

      video.muted = true;
      const p = video.play();
      if (p) p.catch(() => {});

      soundBtn.addEventListener('click', async () => {
        try {
          video.muted = false;
          video.volume = 1;
          await video.play();
          soundBtn.style.display = 'none';
        } catch (_) {
          alert('Tippe auf Play im Video-Player, dann kannst du den Ton aktivieren.');
        }
      });

      video.addEventListener('volumechange', () => {
        if (!video.muted && video.volume > 0) soundBtn.style.display = 'none';
      });

      // ======================
      // PANEL INTRO EFFECT (RIGHT ONLY, START WHEN VISIBLE)
      // ======================
      const heroPanel = document.getElementById('heroPanel');
      const intro   = document.getElementById('panelIntro');
      const stage   = document.getElementById('panelShardStage');
      const flash   = document.getElementById('panelFlash');
      const shutter = document.getElementById('panelShutter');
      const content = document.getElementById('panelContent');

      content.classList.add('panel-hidden');
      intro.classList.add('is-waiting');

      stage.style.setProperty('--photo', "url('assets/images/world_teaser.jpg')");

      const shards = [
        {x: 0,  y: 0,  w: 24, h: 22, clip: "polygon(0 0, 100% 0, 86% 100%, 6% 78%)"},
        {x: 20, y: 0,  w: 18, h: 18, clip: "polygon(6% 0, 100% 0, 90% 90%, 0 100%)"},
        {x: 36, y: 0,  w: 22, h: 26, clip: "polygon(0 0, 100% 10%, 86% 100%, 8% 92%)"},
        {x: 56, y: 0,  w: 24, h: 24, clip: "polygon(0 12%, 100% 0, 100% 100%, 10% 90%)"},
        {x: 78, y: 0,  w: 22, h: 28, clip: "polygon(0 0, 100% 8%, 92% 100%, 12% 86%)"},

        {x: 0,  y: 18, w: 18, h: 26, clip: "polygon(0 0, 96% 10%, 82% 100%, 0 90%)"},
        {x: 14, y: 16, w: 26, h: 30, clip: "polygon(10% 0, 100% 8%, 90% 100%, 0 86%)"},
        {x: 38, y: 18, w: 20, h: 32, clip: "polygon(0 12%, 100% 0, 88% 100%, 10% 92%)"},
        {x: 56, y: 20, w: 22, h: 30, clip: "polygon(8% 0, 100% 12%, 90% 100%, 0 86%)"},
        {x: 76, y: 22, w: 24, h: 26, clip: "polygon(0 0, 96% 12%, 100% 100%, 10% 92%)"},

        {x: 0,  y: 42, w: 24, h: 24, clip: "polygon(0 10%, 92% 0, 100% 100%, 10% 88%)"},
        {x: 22, y: 44, w: 22, h: 26, clip: "polygon(0 0, 100% 10%, 88% 100%, 12% 90%)"},
        {x: 42, y: 48, w: 28, h: 22, clip: "polygon(10% 0, 100% 18%, 90% 100%, 0 82%)"},
        {x: 68, y: 46, w: 32, h: 26, clip: "polygon(0 12%, 100% 0, 92% 100%, 12% 92%)"},

        {x: 0,  y: 64, w: 30, h: 36, clip: "polygon(0 0, 100% 12%, 82% 100%, 8% 90%)"},
        {x: 28, y: 68, w: 24, h: 32, clip: "polygon(8% 0, 100% 10%, 92% 100%, 0 86%)"},
        {x: 50, y: 64, w: 22, h: 36, clip: "polygon(0 10%, 100% 0, 90% 100%, 10% 92%)"},
        {x: 70, y: 68, w: 30, h: 32, clip: "polygon(0 0, 100% 10%, 92% 100%, 8% 90%)"},
      ];

      const rand = (min, max) => Math.random() * (max - min) + min;

      function buildShards() {
        stage.innerHTML = '';

        const rect = stage.getBoundingClientRect();
        const W = rect.width;
        const H = rect.height;

        if (W < 10 || H < 10) return;

        shards.forEach((s, i) => {
          const el = document.createElement('div');
          el.className = 'shard';

          const left = (s.x / 100) * W;
          const top  = (s.y / 100) * H;
          const w    = (s.w / 100) * W;
          const h    = (s.h / 100) * H;

          el.style.left = `${left}px`;
          el.style.top  = `${top}px`;
          el.style.width  = `${w}px`;
          el.style.height = `${h}px`;
          el.style.clipPath = s.clip;

          el.style.setProperty('--d', `${i * 50 + rand(0, 160)}ms`);
          el.style.setProperty('--fromX', `${rand(-180, 180)}px`);
          el.style.setProperty('--fromY', `${rand(-220, 220)}px`);
          el.style.setProperty('--rot', `${rand(-24, 24)}deg`);

          el.style.backgroundImage = `var(--photo, none),
            radial-gradient(180px 150px at 30% 30%, rgba(255,138,42,.22), transparent 62%),
            linear-gradient(135deg, rgba(10,24,40,.98), rgba(22,54,66,.86))`;

          el.style.backgroundSize = `${W}px ${H}px, cover, cover`;
          el.style.backgroundPosition = `-${left}px -${top}px, center, center`;
          el.style.backgroundRepeat = 'no-repeat';

          stage.appendChild(el);
        });
      }

      let panelIntroStarted = false;

      function startPanelIntroOnce() {
        if (panelIntroStarted) return;
        panelIntroStarted = true;

        intro.classList.remove('is-waiting');

        requestAnimationFrame(() => {
          buildShards();

          const lensOnAt = 900;
          const shotAt   = 1300;
          const endAt    = 1850;

          setTimeout(() => intro.classList.add('lens-on'), lensOnAt);

          setTimeout(() => {
            shutter.classList.add('do-shot');
            flash.classList.add('do-flash');
            stage.classList.add('captured');
          }, shotAt);

          setTimeout(() => {
            intro.classList.add('fade-out');
            setTimeout(() => {
              intro.style.display = 'none';
              content.classList.remove('panel-hidden');
              content.classList.add('panel-reveal');
            }, 320);
          }, endAt);
        });
      }

      // Reduced motion: skip effect
      if (window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
        intro.style.display = 'none';
        content.classList.remove('panel-hidden');
      } else {
        const io = new IntersectionObserver((entries) => {
          for (const e of entries) {
            if (e.isIntersecting) {
              startPanelIntroOnce();
              io.disconnect();
              break;
            }
          }
        }, { threshold: 0.35 });

        io.observe(heroPanel);
      }

      let resizeT;
      window.addEventListener('resize', () => {
        clearTimeout(resizeT);
        resizeT = setTimeout(() => {
          if (!panelIntroStarted) return;
          if (intro.style.display === 'none') return;
          buildShards();
        }, 120);
      });
    });
  </script>
</body>
</html>
