<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="description" content="EachPart – Video-Anleitung: So nutzt du die App" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>EachPart – Anleitung</title>

  <link rel="stylesheet" href="styles.css" />
  <script src="translate.js" defer></script>

  <!-- Seite-spezifisch: Video groß & sauber -->
  <style>
    .howto-hero { padding: 40px 20px; background:#333; color:#fff; text-align:center; }
    .howto-wrapper { display:grid; place-items:center; gap: 14px; }

    .howto-video {
      width: min(960px, 92vw);
      aspect-ratio: 16 / 9;
      background:#000;
      border-radius:12px;
      box-shadow: 0 8px 28px rgba(0,0,0,.16);
      overflow: hidden;
    }
    .howto-video iframe { width: 100%; height: 100%; border: 0; display:block; }

    /* Sprachwahl im Nav (minimal, passt sich deinem CSS an) */
    .nav-right { display:flex; align-items:center; gap:10px; }
    .lang-select {
      padding: 8px 10px;
      border-radius: 10px;
      border: 1px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.08);
      color: #fff;
      outline: none;
    }
    .lang-select option { color: #000; }

    @media (max-width: 520px){
      .howto-hero{ padding: 28px 16px; }
      .nav-right { gap: 6px; }
    }
  </style>
</head>

<body>
  <!-- Navigation -->
  <nav class="navbar">
    <div class="nav-container">
      <a class="nav-logo" href="index.html">EachPart</a>

      <ul class="nav-menu">
        <li><a href="index.html" id="nav-home">Home</a></li>
        <li><a href="anleitung.html" id="nav-howto" class="active">Anleitung</a></li>
        <li><a href="faq.html" id="nav-faq">FAQ</a></li>
        <li><a href="impressum.html" id="nav-contact">Kontakt</a></li>
      </ul>

      <!-- Sprachwahl (DE/EN) -->
      <div class="nav-right">
        <select id="lang-select" class="lang-select" aria-label="Language">
          <option value="de">DE</option>
          <option value="en">EN</option>
        </select>
      </div>
    </div>
  </nav>

  <!-- Kopfbereich -->
  <header class="howto-hero">
    <div class="container">
      <h1 id="howto-title">Video-Anleitung</h1>
      <p id="howto-subtitle">So nutzt du EachPart – Schritt für Schritt.</p>
    </div>
  </header>

  <!-- Video-Bereich -->
  <section class="section">
    <div class="container howto-wrapper">
      <div class="howto-video" aria-label="EachPart – Anleitungsvideo">
        <iframe
          src="https://youtube.com/shorts/FNL1hR5PIBY"
          title="EachPart – Anleitung"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
          allowfullscreen
        ></iframe>
      </div>

      <div>
        <a
          href="https://www.youtube.com/watch?v=1eXRGNIa5mQ"
          target="_blank"
          rel="noopener"
          class="btn-secondary"
          id="howto-open-video"
        >
          Auf YouTube ansehen
        </a>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container footer-container">
      <p id="footer-copy">&copy; 2025 EachPart. Alle Rechte vorbehalten.</p>
      <nav class="footer-nav">
        <a href="impressum.html" id="footer-imprint">Impressum</a> |
        <a href="datenschutz.html" id="footer-privacy">Datenschutz</a>
      </nav>
    </div>
  </footer>

  <!-- Page-i18n (DE/EN) – funktioniert sofort, auch wenn translate.js hier noch nichts macht -->
  <script>
    (function () {
      const VIDEO_ID = "1eXRGNIa5mQ";

      const t = {
        de: {
          pageTitle: "EachPart – Anleitung",
          metaDesc: "EachPart – Video-Anleitung: So nutzt du die App",
          title: "Video-Anleitung",
          subtitle: "So nutzt du EachPart – Schritt für Schritt.",
          openVideo: "Auf YouTube ansehen",
          footerCopy: "© 2025 EachPart. Alle Rechte vorbehalten.",
          imprint: "Impressum",
          privacy: "Datenschutz",
          navHowto: "Anleitung",
          navContact: "Kontakt",
        },
        en: {
          pageTitle: "EachPart – Guide",
          metaDesc: "EachPart – Video guide: how to use the app",
          title: "Video Guide",
          subtitle: "How to use EachPart — step by step.",
          openVideo: "Watch on YouTube",
          footerCopy: "© 2025 EachPart. All rights reserved.",
          imprint: "Imprint",
          privacy: "Privacy Policy",
          navHowto: "Guide",
          navContact: "Contact",
        },
      };

      function getSavedLang() {
        const ls = localStorage.getItem("lang") || localStorage.getItem("language");
        return (ls === "en") ? "en" : "de";
      }

      function setText(id, text) {
        const el = document.getElementById(id);
        if (el) el.textContent = text;
      }

      function applyLang(lang) {
        lang = (lang === "en") ? "en" : "de";
        document.documentElement.lang = lang;

        // Title + meta description
        document.title = t[lang].pageTitle;
        const meta = document.querySelector('meta[name="description"]');
        if (meta) meta.setAttribute("content", t[lang].metaDesc);

        // Page texts
        setText("howto-title", t[lang].title);
        setText("howto-subtitle", t[lang].subtitle);
        setText("howto-open-video", t[lang].openVideo);

        // Footer texts
        setText("footer-copy", t[lang].footerCopy);
        setText("footer-imprint", t[lang].imprint);
        setText("footer-privacy", t[lang].privacy);

        // Optional: Nav-Labels
        setText("nav-howto", t[lang].navHowto);
        setText("nav-contact", t[lang].navContact);

        // Video link sicherstellen
        const btn = document.getElementById("howto-open-video");
        if (btn) btn.href = "https://www.youtube.com/watch?v=" + VIDEO_ID;
      }

      function wireSelect() {
        const sel = document.getElementById("lang-select");
        if (!sel) return;

        const initial = getSavedLang();
        sel.value = initial;

        sel.addEventListener("change", () => {
          const lang = (sel.value === "en") ? "en" : "de";
          localStorage.setItem("lang", lang);
          localStorage.setItem("language", lang);
          applyLang(lang);

          // Optional: Falls translate.js globale Hooks hat
          try {
            if (typeof window.applyTranslations === "function") window.applyTranslations(lang);
            if (typeof window.setLanguage === "function") window.setLanguage(lang);
          } catch (_) {}
        });
      }

      document.addEventListener("DOMContentLoaded", () => {
        wireSelect();
        applyLang(getSavedLang());
      });
    })();
  </script>
</body>
</html>
